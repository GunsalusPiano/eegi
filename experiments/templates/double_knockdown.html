{% extends "base.html" %}
{% load extra_tags %}

{% block body_id %}double-knockdown{% endblock %}

{% block page_title %}
{{ worm }} x {{ clone }} at {{ temperature|celsius }}
{% endblock %}

{% block content %}
<div class="cleared-spaced-spans">
  <span>
    Worm strain:
    <a href="{{ worm.get_lab_website_url }}">
      {{ worm }}</a>
  </span>

  <span>
    Worm genotype: {{ worm.genotype }}
  </span>

  <span>
    Temperature: {{ temperature|celsius }}
    ({{ worm|get_screen_type:temperature }})
  </span>

  <span>
    Intended RNAi clone: {{ clone }}
  </span>
</div>

{% for key, d in data.items %}
{% with position=key.0 date=key.2 %}
  <table class="double-knockdown-results grayscale">
    <thead>
      <th colspan="2">
        Clone located in plate {{ position.plate }},
        well {{ position.well }};
        tested on {{ date }}
      </th>
    </thead>

    <tbody>

      <tr>
        <th>Mutant ({{ worm.gene }}) + RNAi ({{ clone.id }})</th>
        <th>Mutant ({{ worm.gene }}) + L4440 control</th>
      </tr>

      <tr>
        <td>
          {% include "carousel.html" with values=d.mutant_rnai %}
        </td>

        <td>
          {% include "carousel.html" with values=d.mutant_l4440 %}
        </td>
      </tr>

      <tr>
        <th>N2 control + RNAi ({{ clone.id }})</th>
        <th>N2 control + L4440 control</th>
      </tr>

      <tr>
        <td>
          {% include "carousel.html" with values=d.n2_rnai %}
        </td>

        <td>
          {% include "carousel.html" with values=d.n2_l4440 %}
        </td>
      </tr>
    </tbody>
  </table>
{% endwith %}
{% endfor %}

{% endblock %}
