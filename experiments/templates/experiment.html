{% extends "base.html" %}
{% load extra_template_tags %}

{% block body_id %}experiment{% endblock %}
{% block page_title %}Experiment {{ experiment.id }}{% endblock %}

{% block content %}
<div id="experiment-wide-info">
  <span>
    Worm strain:
    <a href="{{ experiment.worm_strain.get_lab_website_url }}">
      {{ experiment.worm_strain }}</a>
  </span>

  {% if experiment.worm_strain.genotype %}
  <span>
    Worm genotype: {{ experiment.worm_strain.genotype }}
  </span>
  {% endif %}

  <span>
    Library plate: {{ experiment.library_plate }}
  </span>

  <span>
    Temperature: {{ experiment.temperature|get_celsius_string }}
  </span>

  <span>
    Date: {{ experiment.date }}
  </span>

  {% if experiment.is_junk %}
  <span>
    JUNK
  </span>
  {% endif %}

  {% if experiment.comment %}
  <span>
    Comment: {{ experiment.comment }}
  </span>
  {% endif %}
</div>

<table id="images">
  {% for row in plate_template %}
  <tr>
    {% for position in row %}
      <td>
        <div class="title">
          {{ position.well }}
          <span class="parenthetical">({{ position.tile }})</span>
        </div>
        <a href="{% get_image experiment position.tile %}">
          <img src="{% get_thumbnail_image experiment position.tile %}">
        </a>
      </td>
    {% endfor %}
  </tr>
  {% endfor %}
</table>
{% endblock %}
