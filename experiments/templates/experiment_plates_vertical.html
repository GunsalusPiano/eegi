{% extends "base.html" %}
{% load extra_tags %}

{% block body_id %}experiment-plates-vertical{% endblock %}
{% block page_title %}
  Vertical Tile View of Experiments:
  {% for experiment in experiments %}
    {{ experiment.id }}{% if not forloop.last %},{% endif %}
  {% endfor %}
{% endblock %}

{% block content %}
<!-- Outer table is in case there are multiple experiments -->
<table>
<tr>
{% for experiment in experiments %}
<td>

  <!-- Inner table is per-experiment -->
  <table class="grayscale plate-96 vertical-tiles
      mode-{{ mode }}">
    <thead>
      <tr>
        <th class="plate-info">
          <span>
            <a href="{% url 'experiment_plate_url' experiment.id %}">
              {{ experiment.id }}</a>
          </span>

          <span>
            {{ experiment.worm_strain }}
            {% if experiment.worm_strain.genotype %}
              : {{ experiment.worm_strain.genotype }}
            {% endif %}
          </span>

          <span>{{ experiment.library_plate }}</span>

          <span>{{ experiment.temperature|celsius }}</span>

          <span>{{ experiment.date|date:"SHORT_DATE_FORMAT" }}</span>

          <span
          {% if experiment.is_junk %}
            class="error-message">JUNK
          {% else %}
            >not junk
          {% endif %}
          </span>
        </th>
      </tr>
    </thead>

    <tbody>
      {% for library_well in experiment.library_wells %}
      <tr>
        {% include "image_td.html" %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
</td>
{% endfor %}
</tr>
</table>
{% endblock %}
