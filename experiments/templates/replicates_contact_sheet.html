{% extends 'base.html' %}
{% load extra_tags %}


{% block body_id %}replicates-contact-sheet{% endblock %}


{% block page_title %}
Replicates Contact Sheet:
{{ experiment_plates|get_comma_separated_ids }}
{% endblock %}


{% block content %}

<meta id="plates" data-name="{{ experiment_plates|get_comma_separated_ids }}">
<!-- Outer table is in case there are multiple experiments -->
<table>
    <tr>
        <td>
            <form method="post" action="/process-contact-sheet/">
                {%csrf_token %}
                <table class="grayscale plate-96 vertical-tiles
        mode-{{ mode }}">
                    <thead>
                        <th class="pretty-th">
                            <h4>
                                Interesting?
                            </h4>
                        </th>
                    </thead>
                    <tbody>
                        {% for field in form %}
                            <tr>
                                <td style="height: 179.4px; border:solid white 2px;">
                                    <div class="well-title">
                                        {{field.label}}
                                    </div>
                                    <div>
                                        <!-- <input style="position: absolute; top: 50%; left: 50%;" type="checkbox" name="{{ well }}" id="{{ well }}"
                                            value="{{ well }}"> -->
                                        {{field}}
                                    </div>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
                <div id="form-buttons">
                    <button type="submit" class="submit">Submit</button>
                    <button type="button" class="reset" onclick="location.href = '{{ request.path }}'">
                        Reset
                    </button>
                </div>
            </form>
            <!-- {% for checkbox in form.checkboxes %} -->
                
            <!-- {% endfor %}
        </td>
<!-- <button type="submit" class="submit" onclick="submitContactSheet();">Submit</button> -->

        {% for experiment_plate in experiment_plates %}
            <td>

                <!-- Inner table is per-experiment -->
                <table class="grayscale plate-96 vertical-tiles
                mode-{{ mode }}">
                    <thead>
                        <tr>
                            <th class="pretty-th">
                                <h4 class="page-subtitle">
                                    <a href="{{ experiment_plate.get_absolute_url }}">
                                        {{ experiment_plate.id }}</a>
                                </h4>

                                {% include 'experiment_plate_spans.html' %}
                            </th>
                        </tr>
                    </thead>

                    <tbody>
                        {% for well in experiment_plate.get_wells %}
                        <tr>
                            {% include 'well.html' with is_experiment=True %}
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </td>
        {% endfor %}
    </tr>
</table>
{% endblock %}