{% extends "base.html" %}
{% load extra_template_tags %}

{% block body_id %}experiment-grid{% endblock %}

{% block page_title %}
Grid of All
{% ifequal screen_level '1' %}
Primary
{% else %}
Secondary
{% endifequal %}
Experiments
{% endblock %}

{% block content %}

<table id="experiment-results" class="grid nice-padding">
  {% regroup experiments by library_plate as library_plate_list %}
  {% for library_plate in library_plate_list %}
  <tr>
    <th>{{ library_plate.grouper }}</th>
    {% regroup library_plate.list by worm_strain as worm_strain_list %}
    {% for worm_strain in worm_strain_list %}
      {% regroup worm_strain.list by temperature as temperature_list %}
      {% for temperature in temperature_list %}
      <td>
        <b>{{ worm_strain.grouper }}</b>
        <br>
        <b>{{ library_plate.grouper }}</b>
        <br>
        <b>{{ temperature.grouper }}C</b>
        <ol>
        {% for experiment in temperature.list %}
          <li><a href="{% url 'experiment_plate_url' experiment.id %}">
            {{ experiment }}</a></li>
        {% endfor %}
        </ol>
      </td>
      {% endfor %}
    {% endfor %}
  </tr>
  {% endfor %}
</table>

{% endblock %}
