{% extends "base.html" %}
{% load extra_template_tags %}

{% block body_id %}experiment-plate-vertical{% endblock %}
{% block page_title %}
  Vertical Tile View of Experiments:
  {% for experiment in experiments %}
    {{ experiment.id }}{% if not forloop.last %},{% endif %}
  {% endfor %}
{% endblock %}

{% block content %}
<table>

<tr>
{% for experiment in experiments %}
<td>
  <table class="plate-96 vertical-tiles grayscale">
    <thead>
      <tr>
        <th class="plate-info">
          <span>
            <a href="{% url 'experiment_plate_url' experiment.id %}">
              {{ experiment.id }}</a>
          </span>

          <span>
            {{ experiment.worm_strain }}
            {% if experiment.worm_strain.genotype %}
              : {{ experiment.worm_strain.genotype }}
            {% endif %}
          </span>

          <span>{{ experiment.library_plate }}</span>

          <span>{{ experiment.temperature|get_celsius_string }}</span>

          <span>{{ experiment.date|date:"SHORT_DATE_FORMAT" }}</span>

          <span
          {% if experiment.is_junk %}
            class="error-message">JUNK
          {% else %}
            >not junk
          {% endif %}
          </span>
        </th>
      </tr>
    </thead>

    <tbody>
      {% for well in experiment.wells %}
      <tr>
        <td {% if not well.intended_clone %} class="empty-well" {% endif %}>
          <div class="well-title">
            {{ well.well }}
            <span class="parenthetical">({{ well.get_tile }})</span>
          </div>

          <a class="experiment-image-wrapper"
            href="{% url 'experiment_well_url' experiment well.well %}">
              <img src="{% get_thumbnail_image experiment well %}">
          </a>

          <div class="well-caption">{{ well.intended_clone }}</div>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</td>
{% endfor %}
</tr>
</table>
{% endblock %}
